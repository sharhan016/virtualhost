{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _map = require(\"lodash/map\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _reactFontawesome = require(\"@fortawesome/react-fontawesome\");\n\nvar _faCircle = require(\"@fortawesome/free-solid-svg-icons/faCircle\");\n\nvar _faSquare = require(\"@fortawesome/free-solid-svg-icons/faSquare\");\n\nvar _faStar = require(\"@fortawesome/free-solid-svg-icons/faStar\");\n\nvar _faMinus = require(\"@fortawesome/free-solid-svg-icons/faMinus\");\n\nrequire(\"./timeline.scss\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar defaultConfig = {\n  defaults: {\n    icons: [_react2.default.createElement(_reactFontawesome.FontAwesomeIcon, {\n      icon: _faCircle.faCircle\n    }), _react2.default.createElement(_reactFontawesome.FontAwesomeIcon, {\n      icon: _faSquare.faSquare\n    }), _react2.default.createElement(_reactFontawesome.FontAwesomeIcon, {\n      icon: _faStar.faStar\n    })],\n    colors: [\"darkcyan\", \"darkslateblue\", \"firebrick\", \"steelblue\", \"chocolate\"]\n  }\n};\n\nvar Counter = function Counter(_ref) {\n  var event = _ref.event,\n      index = _ref.index;\n  return _react2.default.createElement(\"li\", {\n    key: \"event-\" + index,\n    className: \"interval-marker\"\n  }, _react2.default.createElement(\"div\", {\n    className: \"counter-icon\"\n  }, _react2.default.createElement(_reactFontawesome.FontAwesomeIcon, {\n    icon: _faMinus.faMinus\n  })));\n};\n\nvar Event = function Event(_ref2) {\n  var event = _ref2.event,\n      index = _ref2.index,\n      color = _ref2.color,\n      icon = _ref2.icon,\n      alignmentClass = _ref2.alignmentClass;\n\n  if (!event['Year']) {\n    return null;\n  }\n\n  var year = event['Year'];\n  var month = Boolean(event['Month']) ? parseInt(event['Month']) - 1 : null;\n  var day = Boolean(event['Day']) ? parseInt(event['Day']) : null;\n  var endYear = Boolean(event['End Year']) ? parseInt(event['End Year']) : null;\n  var endMonth = Boolean(event['End Month']) ? parseInt(event['End Month']) + 1 : null;\n  var endDay = Boolean(event['End Day']) ? parseInt(event['End Day']) : null;\n  var startDate = new Date(year, month, day);\n  var endDate = endYear ? new Date(endYear, endMonth, endDay) : null;\n  var highlight = event[\"Highlight\"] == \"TRUE\" ? \"highlight\" : \"\";\n\n  var styleProperties = _defineProperty({}, '--timeline-color', color);\n\n  var linkText = Boolean(event['Link text']) ? event['Link text'] : \"More information\";\n  return _react2.default.createElement(\"li\", {\n    key: \"event-\" + index,\n    className: \"event \" + alignmentClass,\n    style: styleProperties\n  }, _react2.default.createElement(\"div\", {\n    className: \"event-container\",\n    tabIndex: 0\n  }, _react2.default.createElement(\"div\", {\n    className: \"bullet-icon\"\n  }, icon), _react2.default.createElement(\"div\", {\n    className: \"tl-item \" + highlight\n  }, _react2.default.createElement(\"div\", {\n    className: \"dates\"\n  }, _react2.default.createElement(\"div\", {\n    className: \"year\"\n  }, startDate.getFullYear()), _react2.default.createElement(\"div\", {\n    className: \"month\"\n  }, _react2.default.createElement(\"span\", null, Boolean(event['Month']) && Boolean(event[\"Day\"]) && \"\" + startDate.toLocaleDateString('default', {\n    month: 'short',\n    day: 'numeric'\n  }) || Boolean(event['Month']) && \"\" + startDate.toLocaleDateString('default', {\n    month: 'short'\n  }) || null)), endDate && _react2.default.createElement(\"div\", null, _react2.default.createElement(\"div\", {\n    className: \"hyphen\"\n  }, _react2.default.createElement(\"i\", {\n    className: \"fas fa-minus\"\n  })), _react2.default.createElement(\"div\", {\n    className: \"year\"\n  }, endDate.getFullYear()), _react2.default.createElement(\"div\", {\n    className: \"month\"\n  }, _react2.default.createElement(\"span\", null, Boolean(event['End Month']) && Boolean(event[\"End Day\"]) && \"\" + endDate.toLocaleDateString('default', {\n    month: 'short',\n    day: 'numeric'\n  }) || Boolean(event['End Month']) && \"\" + endDate.toLocaleDateString('default', {\n    month: 'short'\n  }) || null)))), _react2.default.createElement(\"div\", {\n    className: \"info\"\n  }, _react2.default.createElement(\"div\", {\n    className: \"headline\"\n  }, _react2.default.createElement(\"h4\", null, event['Headline'])), _react2.default.createElement(\"div\", {\n    className: \"description\"\n  }, event['Text']), event[\"Link\"] && _react2.default.createElement(\"div\", {\n    className: \"description\"\n  }, _react2.default.createElement(\"a\", {\n    href: event[\"Link\"],\n    target: \"_blank\",\n    rel: \"noopener\"\n  }, _react2.default.createElement(\"i\", {\n    className: \"fas fa-external-link-alt\"\n  }), _react2.default.createElement(\"span\", {\n    className: \"link-text\"\n  }, linkText, _react2.default.createElement(\"span\", {\n    className: \"underline\"\n  }))))), event[\"Image URL\"] && _react2.default.createElement(\"div\", {\n    className: \"image-container hide-on-mobile\"\n  }, _react2.default.createElement(\"img\", {\n    src: event[\"Image URL\"],\n    alt: event[\"Image description\"],\n    className: \"image\"\n  })))));\n};\n\nvar Timeline = function (_React$Component) {\n  _inherits(Timeline, _React$Component);\n\n  function Timeline(props) {\n    _classCallCheck(this, Timeline);\n\n    var _this = _possibleConstructorReturn(this, (Timeline.__proto__ || Object.getPrototypeOf(Timeline)).call(this, props));\n\n    _this.handleSave = function (newContent) {\n      _this.props.onSave(newContent);\n    };\n\n    _this.state = {\n      timelines: {},\n      eventList: [],\n      intervalMarkers: [],\n      ready: false,\n      config: _extends({}, defaultConfig, _this.props.config)\n    };\n    return _this;\n  }\n\n  _createClass(Timeline, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadTimelineData();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevState.timelines !== this.state.timelines || prevProps.interval !== this.props.interval || prevProps.startYear !== this.props.startYear) {\n        this.orderEvents(this.generateEventList());\n      }\n\n      if (prevProps.config !== this.props.config) {\n        this.setState({\n          config: _extends({}, defaultConfig, this.props.config)\n        });\n      }\n    }\n  }, {\n    key: \"handleShowTimeline\",\n    value: function handleShowTimeline(sheetId) {\n      var _this2 = this;\n\n      return function () {\n        return _this2.setState({\n          timelines: _extends({}, _this2.state.timelines, _defineProperty({}, sheetId, _extends({}, _this2.state.timelines[sheetId], {\n            show: true\n          })))\n        });\n      };\n    }\n  }, {\n    key: \"handleHideTimeline\",\n    value: function handleHideTimeline(sheetId) {\n      var _this3 = this;\n\n      return function () {\n        return _this3.setState({\n          timelines: _extends({}, _this3.state.timelines, _defineProperty({}, sheetId, _extends({}, _this3.state.timelines[sheetId], {\n            show: false\n          })))\n        });\n      };\n    }\n  }, {\n    key: \"loadTimelineData\",\n    value: function loadTimelineData() {\n      var _this4 = this;\n\n      var _props = this.props,\n          spreadsheetId = _props.spreadsheetId,\n          apiKey = _props.apiKey;\n      this.props.sheets.forEach(function (sheetId, index) {\n        var url = \"https://sheets.googleapis.com/v4/spreadsheets/\" + spreadsheetId + \"/values/\" + sheetId + \"?key=\" + apiKey;\n        fetch(url).then(function (res) {\n          if (res.status !== 200) {\n            console.log('There was an error fetching the spreadsheet data. Status Code: ' + res.status);\n            return;\n          }\n\n          res.json().then(function (data) {\n            var headings = data.values[0];\n            var rows = [].concat(_toConsumableArray(data.values));\n            rows.shift();\n            var events = rows.map(function (row) {\n              var item = {\n                sheetId: sheetId,\n                sheetOrder: index,\n                type: \"event\"\n              };\n              headings.map(function (heading, index) {\n                if (heading === \"Year\") {\n                  item[heading] = parseInt(row[index]);\n                } else {\n                  item[heading] = row[index];\n                }\n              });\n              return item;\n            });\n\n            _this4.setState({\n              timelines: _extends({}, _this4.state.timelines, _defineProperty({}, sheetId, _extends({}, _this4.state.timelines[sheetId], {\n                show: true,\n                events: events,\n                sheetOrder: index\n              }))),\n              ready: true\n            });\n          });\n        }).catch(function (err) {\n          console.log(err);\n        });\n      });\n    }\n  }, {\n    key: \"generateEventList\",\n    value: function generateEventList() {\n      var _this5 = this;\n\n      var allEvents = [];\n      (0, _map2.default)(this.state.timelines, function (timeline, sheetId) {\n        if (timeline.show) {\n          allEvents = allEvents.concat(timeline.events);\n        }\n      });\n\n      if (allEvents.length > 0 && this.props.interval) {\n        (function () {\n          var interval = parseInt(_this5.props.interval);\n          var endYear = allEvents[allEvents.length - 1][\"Year\"];\n          var year = parseInt(_this5.props.startYear);\n\n          while (year < endYear) {\n            var eventThisYear = allEvents.find(function (e) {\n              return e[\"Year\"] === year;\n            });\n\n            if (!eventThisYear) {\n              allEvents = allEvents.concat({\n                type: \"counter\",\n                Year: year\n              });\n            }\n\n            year = year + interval;\n          }\n        })();\n      }\n\n      return allEvents;\n    }\n  }, {\n    key: \"orderEvents\",\n    value: function orderEvents(events) {\n      var eventList = events.sort(function (a, b) {\n        var yearA = a['Year'];\n        var monthA = Boolean(a['Month']) ? parseInt(a['Month']) - 1 : null;\n        var dayA = Boolean(a['Day']) ? parseInt(a['Day']) : null;\n        var yearB = b['Year'];\n        var monthB = Boolean(b['Month']) ? parseInt(b['Month']) - 1 : null;\n        var dayB = Boolean(b['Day']) ? parseInt(b['Day']) : null;\n        var dateA = new Date(yearA, monthA, dayA);\n        var dateB = new Date(yearB, monthB, dayB);\n        return dateA - dateB;\n      });\n      this.setState({\n        eventList: eventList\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var _state = this.state,\n          eventList = _state.eventList,\n          ready = _state.ready;\n\n      if (!ready) {\n        return _react2.default.createElement(\"div\", null);\n      }\n\n      return _react2.default.createElement(\"div\", {\n        className: \"nl-timeline\"\n      }, this.props.showLegend && _react2.default.createElement(\"div\", {\n        className: \"legend\"\n      }, (0, _map2.default)(this.state.timelines, function (timeline, sheetId) {\n        var color = _this6.state.config[sheetId] && _this6.state.config[sheetId].color ? _this6.state.config[sheetId].color : _this6.state.config.defaults.colors[timeline.sheetOrder % _this6.state.config.defaults.colors.length];\n        var icon = _this6.state.config[sheetId] && _this6.state.config[sheetId].icon ? _this6.state.config[sheetId].icon : _this6.state.config.defaults.icons[timeline.sheetOrder % _this6.state.config.defaults.icons.length];\n\n        var styleProperties = _defineProperty({}, '--timeline-color', color);\n\n        return _react2.default.createElement(\"p\", {\n          className: \"timeline\" + timeline.sheetOrder,\n          key: sheetId,\n          style: styleProperties\n        }, _react2.default.createElement(\"span\", {\n          className: \"bullet-icon\"\n        }, icon), _react2.default.createElement(\"span\", {\n          className: \"\" + (timeline.show ? \"\" : \"text-muted\")\n        }, sheetId), timeline.show ? _react2.default.createElement(\"span\", {\n          className: \"toggle-timeline text-muted\",\n          onClick: _this6.handleHideTimeline(sheetId)\n        }, \"(hide)\") : _react2.default.createElement(\"span\", {\n          className: \"toggle-timeline\",\n          onClick: _this6.handleShowTimeline(sheetId)\n        }, \"(show)\"));\n      })), _react2.default.createElement(\"div\", {\n        className: \"timeline align-\" + this.props.alignment\n      }, _react2.default.createElement(\"ul\", null, _react2.default.createElement(\"div\", {\n        className: \"axis\"\n      }), eventList.map(function (event, index) {\n        if (event.type === \"counter\") {\n          return _react2.default.createElement(Counter, {\n            event: event,\n            index: index,\n            key: \"event-\" + index\n          });\n        }\n\n        var color = _this6.state.config[event.sheetId] && _this6.state.config[event.sheetId].color ? _this6.state.config[event.sheetId].color : _this6.state.config.defaults.colors[event.sheetOrder % _this6.state.config.defaults.colors.length];\n        var icon = _this6.state.config[event.sheetId] && _this6.state.config[event.sheetId].icon ? _this6.state.config[event.sheetId].icon : _this6.state.config.defaults.icons[event.sheetOrder % _this6.state.config.defaults.icons.length];\n        var alignmentClass = _this6.props.alignment === \"center\" && event.sheetOrder % 2 === 0 ? \"left\" : \"right\";\n\n        if (_this6.state.config[event.sheetId] && _this6.state.config[event.sheetId].alignment) {\n          alignmentClass = _this6.state.config[event.sheetId].alignment;\n        }\n\n        return _react2.default.createElement(Event, {\n          key: \"event-\" + index,\n          event: event,\n          index: index,\n          color: color,\n          icon: icon,\n          alignmentClass: alignmentClass\n        });\n      }))));\n    }\n  }]);\n\n  return Timeline;\n}(_react2.default.Component);\n\n;\nTimeline.propTypes = {\n  spreadsheetId: _propTypes2.default.string.isRequired,\n  sheets: _propTypes2.default.array.isRequired,\n  apiKey: _propTypes2.default.string.isRequired,\n  config: _propTypes2.default.object,\n  alignment: _propTypes2.default.string,\n  interval: _propTypes2.default.number,\n  startYear: _propTypes2.default.number,\n  showLegend: _propTypes2.default.boolean\n};\nTimeline.defaultProps = {\n  spreadsheetId: '1vieT0gVrDOHAvAUW8uUWQZj2heeJr8Xg6bZbvKkFFbQ',\n  sheets: [\"Toy Story Movies\"],\n  apiKey: \"\",\n  config: {},\n  alignment: \"left\",\n  showLegend: true\n};\nexports.default = Timeline;","map":{"version":3,"sources":["C:/Users/USER/Desktop/Work/virtualhost/node_modules/react-gsheets-timeline/dist/es/Timeline.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_map","_map2","_reactFontawesome","_faCircle","_faSquare","_faStar","_faMinus","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","arr2","from","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_defineProperty","defaultConfig","defaults","icons","createElement","FontAwesomeIcon","icon","faCircle","faSquare","faStar","colors","Counter","_ref","event","index","className","faMinus","Event","_ref2","color","alignmentClass","year","month","Boolean","parseInt","day","endYear","endMonth","endDay","startDate","Date","endDate","highlight","styleProperties","linkText","style","tabIndex","getFullYear","toLocaleDateString","href","rel","src","alt","Timeline","_React$Component","_this","getPrototypeOf","handleSave","newContent","onSave","state","timelines","eventList","intervalMarkers","ready","config","componentDidMount","loadTimelineData","componentDidUpdate","prevProps","prevState","interval","startYear","orderEvents","generateEventList","setState","handleShowTimeline","sheetId","_this2","show","handleHideTimeline","_this3","_this4","_props","spreadsheetId","apiKey","sheets","forEach","url","fetch","then","res","status","console","log","json","data","headings","values","rows","concat","shift","events","map","row","item","sheetOrder","type","heading","catch","err","_this5","allEvents","timeline","eventThisYear","find","e","Year","sort","a","b","yearA","monthA","dayA","yearB","monthB","dayB","dateA","dateB","render","_this6","_state","showLegend","onClick","alignment","Component","propTypes","string","isRequired","array","object","number","boolean","defaultProps"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _map = require(\"lodash/map\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _reactFontawesome = require(\"@fortawesome/react-fontawesome\");\n\nvar _faCircle = require(\"@fortawesome/free-solid-svg-icons/faCircle\");\n\nvar _faSquare = require(\"@fortawesome/free-solid-svg-icons/faSquare\");\n\nvar _faStar = require(\"@fortawesome/free-solid-svg-icons/faStar\");\n\nvar _faMinus = require(\"@fortawesome/free-solid-svg-icons/faMinus\");\n\nrequire(\"./timeline.scss\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar defaultConfig = {\n  defaults: {\n    icons: [_react2.default.createElement(_reactFontawesome.FontAwesomeIcon, { icon: _faCircle.faCircle }), _react2.default.createElement(_reactFontawesome.FontAwesomeIcon, { icon: _faSquare.faSquare }), _react2.default.createElement(_reactFontawesome.FontAwesomeIcon, { icon: _faStar.faStar })],\n    colors: [\"darkcyan\", \"darkslateblue\", \"firebrick\", \"steelblue\", \"chocolate\"]\n  }\n};\n\nvar Counter = function Counter(_ref) {\n  var event = _ref.event,\n      index = _ref.index;\n\n  return _react2.default.createElement(\n    \"li\",\n    { key: \"event-\" + index, className: \"interval-marker\" },\n    _react2.default.createElement(\n      \"div\",\n      { className: \"counter-icon\" },\n      _react2.default.createElement(_reactFontawesome.FontAwesomeIcon, { icon: _faMinus.faMinus })\n    )\n  );\n};\n\nvar Event = function Event(_ref2) {\n  var event = _ref2.event,\n      index = _ref2.index,\n      color = _ref2.color,\n      icon = _ref2.icon,\n      alignmentClass = _ref2.alignmentClass;\n\n  if (!event['Year']) {\n    return null;\n  }\n\n  var year = event['Year'];\n  var month = Boolean(event['Month']) ? parseInt(event['Month']) - 1 : null;\n  var day = Boolean(event['Day']) ? parseInt(event['Day']) : null;\n\n  var endYear = Boolean(event['End Year']) ? parseInt(event['End Year']) : null;\n  var endMonth = Boolean(event['End Month']) ? parseInt(event['End Month']) + 1 : null;\n  var endDay = Boolean(event['End Day']) ? parseInt(event['End Day']) : null;\n\n  var startDate = new Date(year, month, day);\n  var endDate = endYear ? new Date(endYear, endMonth, endDay) : null;\n\n  var highlight = event[\"Highlight\"] == \"TRUE\" ? \"highlight\" : \"\";\n  var styleProperties = _defineProperty({}, '--timeline-color', color);\n\n  var linkText = Boolean(event['Link text']) ? event['Link text'] : \"More information\";\n\n  return _react2.default.createElement(\n    \"li\",\n    { key: \"event-\" + index, className: \"event \" + alignmentClass, style: styleProperties },\n    _react2.default.createElement(\n      \"div\",\n      { className: \"event-container\", tabIndex: 0 },\n      _react2.default.createElement(\n        \"div\",\n        { className: \"bullet-icon\" },\n        icon\n      ),\n      _react2.default.createElement(\n        \"div\",\n        { className: \"tl-item \" + highlight },\n        _react2.default.createElement(\n          \"div\",\n          { className: \"dates\" },\n          _react2.default.createElement(\n            \"div\",\n            { className: \"year\" },\n            startDate.getFullYear()\n          ),\n          _react2.default.createElement(\n            \"div\",\n            { className: \"month\" },\n            _react2.default.createElement(\n              \"span\",\n              null,\n              Boolean(event['Month']) && Boolean(event[\"Day\"]) && \"\" + startDate.toLocaleDateString('default', { month: 'short', day: 'numeric' }) || Boolean(event['Month']) && \"\" + startDate.toLocaleDateString('default', { month: 'short' }) || null\n            )\n          ),\n          endDate && _react2.default.createElement(\n            \"div\",\n            null,\n            _react2.default.createElement(\n              \"div\",\n              { className: \"hyphen\" },\n              _react2.default.createElement(\"i\", { className: \"fas fa-minus\" })\n            ),\n            _react2.default.createElement(\n              \"div\",\n              { className: \"year\" },\n              endDate.getFullYear()\n            ),\n            _react2.default.createElement(\n              \"div\",\n              { className: \"month\" },\n              _react2.default.createElement(\n                \"span\",\n                null,\n                Boolean(event['End Month']) && Boolean(event[\"End Day\"]) && \"\" + endDate.toLocaleDateString('default', { month: 'short', day: 'numeric' }) || Boolean(event['End Month']) && \"\" + endDate.toLocaleDateString('default', { month: 'short' }) || null\n              )\n            )\n          )\n        ),\n        _react2.default.createElement(\n          \"div\",\n          { className: \"info\" },\n          _react2.default.createElement(\n            \"div\",\n            { className: \"headline\" },\n            _react2.default.createElement(\n              \"h4\",\n              null,\n              event['Headline']\n            )\n          ),\n          _react2.default.createElement(\n            \"div\",\n            { className: \"description\" },\n            event['Text']\n          ),\n          event[\"Link\"] && _react2.default.createElement(\n            \"div\",\n            { className: \"description\" },\n            _react2.default.createElement(\n              \"a\",\n              { href: event[\"Link\"], target: \"_blank\", rel: \"noopener\" },\n              _react2.default.createElement(\"i\", { className: \"fas fa-external-link-alt\" }),\n              _react2.default.createElement(\n                \"span\",\n                { className: \"link-text\" },\n                linkText,\n                _react2.default.createElement(\"span\", { className: \"underline\" })\n              )\n            )\n          )\n        ),\n        event[\"Image URL\"] && _react2.default.createElement(\n          \"div\",\n          { className: \"image-container hide-on-mobile\" },\n          _react2.default.createElement(\"img\", { src: event[\"Image URL\"], alt: event[\"Image description\"], className: \"image\" })\n        )\n      )\n    )\n  );\n};\n\nvar Timeline = function (_React$Component) {\n  _inherits(Timeline, _React$Component);\n\n  function Timeline(props) {\n    _classCallCheck(this, Timeline);\n\n    var _this = _possibleConstructorReturn(this, (Timeline.__proto__ || Object.getPrototypeOf(Timeline)).call(this, props));\n\n    _this.handleSave = function (newContent) {\n      _this.props.onSave(newContent);\n    };\n\n    _this.state = {\n      timelines: {},\n      eventList: [],\n      intervalMarkers: [],\n      ready: false,\n      config: _extends({}, defaultConfig, _this.props.config)\n    };\n    return _this;\n  }\n\n  _createClass(Timeline, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadTimelineData();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevState.timelines !== this.state.timelines || prevProps.interval !== this.props.interval || prevProps.startYear !== this.props.startYear) {\n        this.orderEvents(this.generateEventList());\n      }\n\n      if (prevProps.config !== this.props.config) {\n        this.setState({ config: _extends({}, defaultConfig, this.props.config) });\n      }\n    }\n  }, {\n    key: \"handleShowTimeline\",\n    value: function handleShowTimeline(sheetId) {\n      var _this2 = this;\n\n      return function () {\n        return _this2.setState({ timelines: _extends({}, _this2.state.timelines, _defineProperty({}, sheetId, _extends({}, _this2.state.timelines[sheetId], { show: true }))) });\n      };\n    }\n  }, {\n    key: \"handleHideTimeline\",\n    value: function handleHideTimeline(sheetId) {\n      var _this3 = this;\n\n      return function () {\n        return _this3.setState({ timelines: _extends({}, _this3.state.timelines, _defineProperty({}, sheetId, _extends({}, _this3.state.timelines[sheetId], { show: false }))) });\n      };\n    }\n  }, {\n    key: \"loadTimelineData\",\n    value: function loadTimelineData() {\n      var _this4 = this;\n\n      var _props = this.props,\n          spreadsheetId = _props.spreadsheetId,\n          apiKey = _props.apiKey;\n\n\n      this.props.sheets.forEach(function (sheetId, index) {\n        var url = \"https://sheets.googleapis.com/v4/spreadsheets/\" + spreadsheetId + \"/values/\" + sheetId + \"?key=\" + apiKey;\n\n        fetch(url).then(function (res) {\n          if (res.status !== 200) {\n            console.log('There was an error fetching the spreadsheet data. Status Code: ' + res.status);\n            return;\n          }\n\n          res.json().then(function (data) {\n            var headings = data.values[0];\n            var rows = [].concat(_toConsumableArray(data.values));\n            rows.shift();\n            var events = rows.map(function (row) {\n              var item = { sheetId: sheetId, sheetOrder: index, type: \"event\" };\n              headings.map(function (heading, index) {\n                if (heading === \"Year\") {\n                  item[heading] = parseInt(row[index]);\n                } else {\n                  item[heading] = row[index];\n                }\n              });\n              return item;\n            });\n\n            _this4.setState({\n              timelines: _extends({}, _this4.state.timelines, _defineProperty({}, sheetId, _extends({}, _this4.state.timelines[sheetId], { show: true, events: events, sheetOrder: index }))),\n              ready: true\n            });\n          });\n        }).catch(function (err) {\n          console.log(err);\n        });\n      });\n    }\n  }, {\n    key: \"generateEventList\",\n    value: function generateEventList() {\n      var _this5 = this;\n\n      var allEvents = [];\n      (0, _map2.default)(this.state.timelines, function (timeline, sheetId) {\n        if (timeline.show) {\n          allEvents = allEvents.concat(timeline.events);\n        }\n      });\n\n      if (allEvents.length > 0 && this.props.interval) {\n        (function () {\n          var interval = parseInt(_this5.props.interval);\n          var endYear = allEvents[allEvents.length - 1][\"Year\"];\n          var year = parseInt(_this5.props.startYear);\n          while (year < endYear) {\n            var eventThisYear = allEvents.find(function (e) {\n              return e[\"Year\"] === year;\n            });\n            if (!eventThisYear) {\n              allEvents = allEvents.concat({ type: \"counter\", Year: year });\n            }\n            year = year + interval;\n          }\n        })();\n      }\n\n      return allEvents;\n    }\n  }, {\n    key: \"orderEvents\",\n    value: function orderEvents(events) {\n      var eventList = events.sort(function (a, b) {\n        var yearA = a['Year'];\n        var monthA = Boolean(a['Month']) ? parseInt(a['Month']) - 1 : null;\n        var dayA = Boolean(a['Day']) ? parseInt(a['Day']) : null;\n\n        var yearB = b['Year'];\n        var monthB = Boolean(b['Month']) ? parseInt(b['Month']) - 1 : null;\n        var dayB = Boolean(b['Day']) ? parseInt(b['Day']) : null;\n\n        var dateA = new Date(yearA, monthA, dayA);\n        var dateB = new Date(yearB, monthB, dayB);\n\n        return dateA - dateB;\n      });\n\n      this.setState({ eventList: eventList });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var _state = this.state,\n          eventList = _state.eventList,\n          ready = _state.ready;\n\n\n      if (!ready) {\n        return _react2.default.createElement(\"div\", null);\n      }\n\n      return _react2.default.createElement(\n        \"div\",\n        { className: \"nl-timeline\" },\n        this.props.showLegend && _react2.default.createElement(\n          \"div\",\n          { className: \"legend\" },\n          (0, _map2.default)(this.state.timelines, function (timeline, sheetId) {\n            var color = _this6.state.config[sheetId] && _this6.state.config[sheetId].color ? _this6.state.config[sheetId].color : _this6.state.config.defaults.colors[timeline.sheetOrder % _this6.state.config.defaults.colors.length];\n            var icon = _this6.state.config[sheetId] && _this6.state.config[sheetId].icon ? _this6.state.config[sheetId].icon : _this6.state.config.defaults.icons[timeline.sheetOrder % _this6.state.config.defaults.icons.length];\n            var styleProperties = _defineProperty({}, '--timeline-color', color);\n\n            return _react2.default.createElement(\n              \"p\",\n              { className: \"timeline\" + timeline.sheetOrder, key: sheetId, style: styleProperties },\n              _react2.default.createElement(\n                \"span\",\n                { className: \"bullet-icon\" },\n                icon\n              ),\n              _react2.default.createElement(\n                \"span\",\n                { className: \"\" + (timeline.show ? \"\" : \"text-muted\") },\n                sheetId\n              ),\n              timeline.show ? _react2.default.createElement(\n                \"span\",\n                { className: \"toggle-timeline text-muted\", onClick: _this6.handleHideTimeline(sheetId) },\n                \"(hide)\"\n              ) : _react2.default.createElement(\n                \"span\",\n                { className: \"toggle-timeline\", onClick: _this6.handleShowTimeline(sheetId) },\n                \"(show)\"\n              )\n            );\n          })\n        ),\n        _react2.default.createElement(\n          \"div\",\n          { className: \"timeline align-\" + this.props.alignment },\n          _react2.default.createElement(\n            \"ul\",\n            null,\n            _react2.default.createElement(\"div\", { className: \"axis\" }),\n            eventList.map(function (event, index) {\n              if (event.type === \"counter\") {\n                return _react2.default.createElement(Counter, { event: event, index: index, key: \"event-\" + index });\n              }\n\n              var color = _this6.state.config[event.sheetId] && _this6.state.config[event.sheetId].color ? _this6.state.config[event.sheetId].color : _this6.state.config.defaults.colors[event.sheetOrder % _this6.state.config.defaults.colors.length];\n              var icon = _this6.state.config[event.sheetId] && _this6.state.config[event.sheetId].icon ? _this6.state.config[event.sheetId].icon : _this6.state.config.defaults.icons[event.sheetOrder % _this6.state.config.defaults.icons.length];\n              var alignmentClass = _this6.props.alignment === \"center\" && event.sheetOrder % 2 === 0 ? \"left\" : \"right\";\n\n              if (_this6.state.config[event.sheetId] && _this6.state.config[event.sheetId].alignment) {\n                alignmentClass = _this6.state.config[event.sheetId].alignment;\n              }\n\n              return _react2.default.createElement(Event, { key: \"event-\" + index, event: event, index: index, color: color, icon: icon, alignmentClass: alignmentClass });\n            })\n          )\n        )\n      );\n    }\n  }]);\n\n  return Timeline;\n}(_react2.default.Component);\n\n;\n\nTimeline.propTypes = {\n  spreadsheetId: _propTypes2.default.string.isRequired,\n  sheets: _propTypes2.default.array.isRequired,\n  apiKey: _propTypes2.default.string.isRequired,\n  config: _propTypes2.default.object,\n  alignment: _propTypes2.default.string,\n  interval: _propTypes2.default.number,\n  startYear: _propTypes2.default.number,\n  showLegend: _propTypes2.default.boolean\n};\n\nTimeline.defaultProps = {\n  spreadsheetId: '1vieT0gVrDOHAvAUW8uUWQZj2heeJr8Xg6bZbvKkFFbQ',\n  sheets: [\"Toy Story Movies\"],\n  apiKey: \"\",\n  config: {},\n  alignment: \"left\",\n  showLegend: true\n};\n\nexports.default = Timeline;"]},"metadata":{},"sourceType":"script"}
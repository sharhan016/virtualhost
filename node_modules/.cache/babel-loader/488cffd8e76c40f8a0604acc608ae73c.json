{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\USER\\\\Desktop\\\\Work\\\\virtualhost\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _objectSpread from\"C:\\\\Users\\\\USER\\\\Desktop\\\\Work\\\\virtualhost\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _ from'lodash';import faker from'faker';import React from'react';import{Search,Grid,Header,Segment}from'semantic-ui-react';var source=_.times(5,function(){return{title:faker.company.companyName(),description:faker.company.catchPhrase(),image:faker.internet.avatar(),price:faker.finance.amount(0,100,2,'$')};});var initialState={loading:false,results:[],value:''};function exampleReducer(state,action){switch(action.type){case'CLEAN_QUERY':return initialState;case'START_SEARCH':return _objectSpread(_objectSpread({},state),{},{loading:true,value:action.query});case'FINISH_SEARCH':return _objectSpread(_objectSpread({},state),{},{loading:false,results:action.results});case'UPDATE_SELECTION':return _objectSpread(_objectSpread({},state),{},{value:action.selection});default:throw new Error();}}function SearchComponent(){var _React$useReducer=React.useReducer(exampleReducer,initialState),_React$useReducer2=_slicedToArray(_React$useReducer,2),state=_React$useReducer2[0],dispatch=_React$useReducer2[1];var loading=state.loading,results=state.results,value=state.value;var timeoutRef=React.useRef();var handleSearchChange=React.useCallback(function(e,data){clearTimeout(timeoutRef.current);dispatch({type:'START_SEARCH',query:data.value});timeoutRef.current=setTimeout(function(){if(data.value.length===0){dispatch({type:'CLEAN_QUERY'});return;}var re=new RegExp(_.escapeRegExp(data.value),'i');var isMatch=function isMatch(result){return re.test(result.title);};dispatch({type:'FINISH_SEARCH',results:_.filter(source,isMatch)});},300);},[]);React.useEffect(function(){return function(){clearTimeout(timeoutRef.current);};},[]);return/*#__PURE__*/ (// <Grid>\n//   <Grid.Column width={16}>\nReact.createElement(Search,{loading:loading,style:{width:600},onResultSelect:function onResultSelect(e,data){return dispatch({type:'UPDATE_SELECTION',selection:data.result.title});},onSearchChange:handleSearchChange,results:results,value:value}));}export default SearchComponent;/*\r\n\r\n\r\n\r\n\r\n\r\n*/","map":{"version":3,"sources":["C:/Users/USER/Desktop/Work/virtualhost/src/components/TestPage.js"],"names":["_","faker","React","Search","Grid","Header","Segment","source","times","title","company","companyName","description","catchPhrase","image","internet","avatar","price","finance","amount","initialState","loading","results","value","exampleReducer","state","action","type","query","selection","Error","SearchComponent","useReducer","dispatch","timeoutRef","useRef","handleSearchChange","useCallback","e","data","clearTimeout","current","setTimeout","length","re","RegExp","escapeRegExp","isMatch","result","test","filter","useEffect","width"],"mappings":"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","sourcesContent":["import _ from 'lodash'\r\nimport faker from 'faker'\r\nimport React from 'react'\r\nimport { Search, Grid, Header, Segment } from 'semantic-ui-react'\r\n\r\nconst source = _.times(5, () => ({\r\n  title: faker.company.companyName(),\r\n  description: faker.company.catchPhrase(),\r\n  image: faker.internet.avatar(),\r\n  price: faker.finance.amount(0, 100, 2, '$'),\r\n}))\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  results: [],\r\n  value: '',\r\n}\r\n\r\nfunction exampleReducer(state, action) {\r\n  switch (action.type) {\r\n    case 'CLEAN_QUERY':\r\n      return initialState\r\n    case 'START_SEARCH':\r\n      return { ...state, loading: true, value: action.query }\r\n    case 'FINISH_SEARCH':\r\n      return { ...state, loading: false, results: action.results }\r\n    case 'UPDATE_SELECTION':\r\n      return { ...state, value: action.selection }\r\n\r\n    default:\r\n      throw new Error()\r\n  }\r\n}\r\n\r\nfunction SearchComponent() {\r\n  const [state, dispatch] = React.useReducer(exampleReducer, initialState)\r\n  const { loading, results, value } = state\r\n\r\n  const timeoutRef = React.useRef()\r\n  const handleSearchChange = React.useCallback((e, data) => {\r\n    clearTimeout(timeoutRef.current)\r\n    dispatch({ type: 'START_SEARCH', query: data.value })\r\n\r\n    timeoutRef.current = setTimeout(() => {\r\n      if (data.value.length === 0) {\r\n        dispatch({ type: 'CLEAN_QUERY' })\r\n        return\r\n      }\r\n\r\n      const re = new RegExp(_.escapeRegExp(data.value), 'i')\r\n      const isMatch = (result) => re.test(result.title)\r\n\r\n      dispatch({\r\n        type: 'FINISH_SEARCH',\r\n        results: _.filter(source, isMatch),\r\n      })\r\n    }, 300)\r\n  }, [])\r\n  React.useEffect(() => {\r\n    return () => {\r\n      clearTimeout(timeoutRef.current)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    // <Grid>\r\n    //   <Grid.Column width={16}>\r\n        <Search\r\n          loading={loading}\r\n          style={{width: 600}}\r\n          onResultSelect={(e, data) =>\r\n            dispatch({ type: 'UPDATE_SELECTION', selection: data.result.title })\r\n          }\r\n          onSearchChange={handleSearchChange}\r\n          results={results}\r\n          value={value}\r\n        />\r\n     \r\n  )\r\n}\r\n\r\nexport default SearchComponent\r\n\r\n/*\r\n\r\n\r\n\r\n\r\n\r\n*/"]},"metadata":{},"sourceType":"module"}